{"version":3,"sources":["source/js/_photo-gallery.js","source/js/_slider.js","source/js/_logo.js","source/js/_mobile-main-resize.js"],"names":["sliders","document","querySelectorAll","forEach","Swiper","loop","slidesPerView","spaceBetween","speed","navigation","nextEl","prevEl","SPEED","activeIndex","bulletsText","slides","iframesArray","Array","from","map","slide","querySelector","filter","item","swiper","pagination","el","clickable","renderBullet","index","className","concat","centeredSlides","initialSlide","on","direction","length","this","realIndex","fadeSlide","previousIndex","previousElementSibling","style","transform","opacity","setTimeout","transition","nextElementSibling","zIndex","it","contentWindow","postMessage","$","ready","logoTexts","css","setInterval","classList","remove","add","appendTo","text","window","width","fadeOut","each","t","e","i","n","attr","get","a","find","removeAttr","replaceWith","addEventListener","mobileOverlay","body","screenWidth","screen","height","screenHeight","onWindowResize","getComputedStyle","scaleEffector"],"mappings":"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","file":"my-main.js","sourcesContent":["(function () {\r\n  const sliders = document.querySelectorAll(`.gallery__container`);\r\n\r\n  if (sliders) {\r\n\r\n    sliders.forEach(function () {\r\n      const options = {\r\n        loop: true,\r\n        slidesPerView: `auto`,\r\n        spaceBetween: 0,\r\n        speed: 400,\r\n\r\n        // Navigation arrows\r\n        navigation: {\r\n          nextEl: `.gallery__arrow--next`,\r\n          prevEl: `.gallery__arrow--prev`,\r\n        },\r\n      };\r\n\r\n      const slider = new Swiper(`.gallery__container`, options);\r\n    });\r\n  }\r\n})();\r\n","let isInProgress = false;\r\nconst SPEED = 600;\r\nlet activeIndex = 1;\r\nconst bulletsText = [\r\n  `Друзья Оушена`,\r\n  `Платформа Emotion`,\r\n  `Первооткрыватели`,\r\n  `Шерлок`,\r\n  `Игры Героев`,\r\n  `Время первых`,\r\n  `Спецпроект`,\r\n];\r\nconst slides = document.querySelectorAll(`.slide`);\r\nconst iframesArray = Array.from(document.querySelectorAll(`.slide`)).map((slide) => slide.querySelector(`iframe`)).filter((item) => !!item);\r\n\r\nconst swiper = new Swiper(`.slider`, {\r\n  pagination: {\r\n    el: `.slider-pagination`,\r\n    clickable: true,\r\n    renderBullet: function (index, className) {\r\n      return `<button type=\"button\" class=\"slider__bullet ${className}\"> <span class=\"slider__bullet-name\">${bulletsText[index]}</span> </button>`;\r\n    },\r\n  },\r\n  navigation: {\r\n    nextEl: `.slider__button--next`,\r\n    prevEl: `.slider__button--prev`\r\n  },\r\n  centeredSlides: true,\r\n  loop: true,\r\n  slidesPerView: `auto`,\r\n  speed: SPEED,\r\n  initialSlide: 0,\r\n});\r\n\r\nconst setIframesPause = function () {\r\n  iframesArray.forEach((it) => {\r\n    it.contentWindow.postMessage(`{\"event\":\"command\",\"func\":\"pauseVideo\",\"args\":\"\"}`, `*`);\r\n  });\r\n};\r\n\r\nconst slideChangeTransitionStart = function () {\r\n  let direction;\r\n\r\n  if (activeIndex === slides.length - 1 && !this.realIndex) {\r\n    direction = `left`;\r\n  } else if (!activeIndex && this.realIndex === slides.length - 1) {\r\n    direction = `right`;\r\n  } else if (this.realIndex > activeIndex) {\r\n    direction = `left`;\r\n  } else {\r\n    direction = `right`;\r\n  }\r\n\r\n  activeIndex = this.realIndex;\r\n\r\n  if (direction === `left`) {\r\n    const fadeSlide = this.slides[this.previousIndex].previousElementSibling;\r\n\r\n    fadeSlide.style.transform = `translateX(130%) scaleX(0.6) scaleY(0.682)`;\r\n    fadeSlide.style.opacity = `0`;\r\n\r\n    setTimeout(() => {\r\n      fadeSlide.style.transition = ``;\r\n      fadeSlide.style.transform = ``;\r\n      fadeSlide.style.opacity = ``;\r\n    }, SPEED);\r\n  } else {\r\n    const fadeSlide = this.slides[this.previousIndex].nextElementSibling;\r\n\r\n    fadeSlide.style.zIndex = -1;\r\n    fadeSlide.style.transition = `none`;\r\n    fadeSlide.style.transform = `translateX(-346px)`;\r\n\r\n    setTimeout(() => {\r\n      fadeSlide.style.transition = ``;\r\n      fadeSlide.style.transition = `translateX ${SPEED / 1000}s ease, opacity ${SPEED / 1000}s easy`;\r\n      fadeSlide.style.transform = `translateX(-726px) scaleX(0.6) scaleY(0.682)`;\r\n      fadeSlide.style.opacity = `0`;\r\n    }, 0);\r\n\r\n    setTimeout(() => {\r\n      fadeSlide.style.transition = ``;\r\n      fadeSlide.style.transform = ``;\r\n      fadeSlide.style.opacity = ``;\r\n      fadeSlide.style.zIndex = ``;\r\n    }, SPEED);\r\n  }\r\n};\r\n\r\nconst slideChangeTransitionEnd = function () {\r\n  setIframesPause();\r\n};\r\n\r\nconst touchMove = function () {\r\n  if (!isInProgress) {\r\n    isInProgress = true;\r\n\r\n    Array.from(swiper.slides).forEach(function (it) {\r\n      it.style.transformOrigin = `50% 50%`;\r\n    });\r\n\r\n    swiper.on(`transitionEnd`, transitionEnd);\r\n  }\r\n};\r\n\r\nconst transitionEnd = function () {\r\n  isInProgress = false;\r\n\r\n  Array.from(swiper.slides).forEach(function (it) {\r\n    it.style.transformOrigin = ``;\r\n  });\r\n\r\n  swiper.off(`transitionEnd`, transitionEnd);\r\n};\r\n\r\nswiper.on(`slideChangeTransitionStart`, slideChangeTransitionStart);\r\nswiper.on(`slideChangeTransitionEnd`, slideChangeTransitionEnd);\r\n\r\n// swiper.on(`touchMove`, touchMove);\r\n","$(document).ready(function() {\n  var logoTexts = Array.from(document.querySelectorAll('.logotype span'));\n  var index = 0;\n\n  setTimeout(function() {\n    $(\".unvisible\").css(\"opacity\", \"1\");\n\n    if (document.querySelector('.logotype .active')) {\n      setInterval(function () {\n        document.querySelector('.logotype .active').classList.remove('active');\n        if (index % 2) {\n          logoTexts[0].classList.add('active');\n        } else if ((index / 2) % 2) {\n          logoTexts[1].classList.add('active');\n        } else {\n          logoTexts[2].classList.add('active');\n        }\n\n        index++;\n      }, 3000);\n    }\n\n  }, 3000);\n\n  var e = function() {\n      return $(\"#dynamic\").text($(window).width() > 980 ? \".b-skew-top:before{border-left-width: \" + $(window).width() + \"px;} .b-skew-bottom:after{border-right-width: \" + $(window).width() + \"px;}\" : \".b-skew-top:before{border-left-width: 980px;} .b-skew-bottom:after{border-right-width: 980px;}\")\n    }\n  var i;\n  return $(\"<style type='text/css' id='dynamic' />\").appendTo(\"head\"), e(), $(\"#title-slide\") && setTimeout(function() {\n    return $(\"#title-slide\").fadeOut()\n  }, 3000), $(\"img.svg\").each(function() {\n    var t, e, i, n;\n    t = $(this), i = t.attr(\"id\"), e = t.attr(\"class\"), n = t.attr(\"src\"), $.get(n, function(n) {\n      var a;\n      a = $(n).find(\"svg\"), \"undefined\" != typeof i && (a = a.attr(\"id\", i)), \"undefined\" != typeof e && (a = a.attr(\"class\", e + \" replaced-svg\")), a = a.removeAttr(\"xmlns:a\"), t.replaceWith(a)\n    }, \"xml\")\n  });\n});\n","\ndocument.addEventListener(`DOMContentLoaded`, () => {\n  const mobileOverlay = document.querySelector(`.mobile-overlay`);\n  const body = document.querySelector(`.index`);\n  const SLIDER_HEIGHT = 860;\n  const SLIDER_WIDTH = 1280;\n  const screenWidth = screen.width > screen.height ? screen.width : screen.height;\n  const screenHeight = screen.width < screen.height ? screen.width : screen.height;\n\n  if (mobileOverlay && body) {\n    const onWindowResize = function () {\n      if (getComputedStyle(mobileOverlay)[`display`] === `none` && screenWidth < SLIDER_WIDTH) {\n        const scaleEffector = screenWidth / SLIDER_WIDTH;\n        body.style.transform = `scale(${screenHeight / (SLIDER_HEIGHT * scaleEffector)})`;\n      } else {\n        body.style.transform = ``;\n      }\n    };\n\n    window.addEventListener(`resize`, onWindowResize);\n\n    onWindowResize();\n  }\n});\n\n"]}