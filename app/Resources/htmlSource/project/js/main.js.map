{"version":3,"sources":["source/js/_photo-gallery.js","source/js/_slider.js","source/js/_logo.js"],"names":["sliders","document","querySelectorAll","forEach","Swiper","loop","slidesPerView","spaceBetween","speed","navigation","nextEl","prevEl","SPEED","activeIndex","bulletsText","slides","iframesArray","Array","from","map","slide","querySelector","filter","item","swiper","pagination","el","clickable","renderBullet","index","className","concat","centeredSlides","initialSlide","on","direction","length","this","realIndex","fadeSlide","previousIndex","previousElementSibling","style","transform","opacity","setTimeout","transition","nextElementSibling","zIndex","it","contentWindow","postMessage","$","ready","t","e","css","i","n","find","first","next","position","display","fadeOut","addClass","siblings","removeClass","animate","text","window","width","appendTo","each","attr","get","a","removeAttr","replaceWith","own_slider","activeSlideIdx","shownSlidesCount","imagesLoaded","photos","Sly","horizontal","itemNav","activateMiddle","prev","smart","activateOn","mouseDragging","touchDragging","releaseSwing","startAt","elasticBounds","dragHandle","dynamicHandle","clickBar","init"],"mappings":"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","file":"main.js","sourcesContent":["(function () {\r\n  const sliders = document.querySelectorAll(`.gallery__container`);\r\n\r\n  if (sliders) {\r\n\r\n    sliders.forEach(function () {\r\n      const options = {\r\n        loop: true,\r\n        slidesPerView: `auto`,\r\n        spaceBetween: 0,\r\n        speed: 400,\r\n\r\n        // Navigation arrows\r\n        navigation: {\r\n          nextEl: `.gallery__arrow--next`,\r\n          prevEl: `.gallery__arrow--prev`,\r\n        },\r\n      };\r\n\r\n      const slider = new Swiper(`.gallery__container`, options);\r\n    });\r\n  }\r\n})();\r\n","let isInProgress = false;\r\nconst SPEED = 600;\r\nlet activeIndex = 1;\r\nconst bulletsText = [\r\n  `Друзья Оушена`,\r\n  `Платформа Emotion`,\r\n  `Первооткрыватели`,\r\n  `Шерлок`,\r\n  `Игры Героев`,\r\n  `Время первых`\r\n];\r\nconst slides = document.querySelectorAll(`.slide`);\r\nconst iframesArray = Array.from(document.querySelectorAll(`.slide`)).map((slide) => slide.querySelector(`iframe`)).filter((item) => !!item);\r\n\r\nconst swiper = new Swiper(`.slider`, {\r\n  pagination: {\r\n    el: `.slider-pagination`,\r\n    clickable: true,\r\n    renderBullet: function (index, className) {\r\n      return `<button type=\"button\" class=\"slider__bullet ${className}\"> <span class=\"slider__bullet-name\">${bulletsText[index]}</span> </button>`;\r\n    },\r\n  },\r\n  navigation: {\r\n    nextEl: `.slider__button--next`,\r\n    prevEl: `.slider__button--prev`\r\n  },\r\n  centeredSlides: true,\r\n  loop: true,\r\n  slidesPerView: `auto`,\r\n  speed: SPEED,\r\n  initialSlide: 1,\r\n  // breakpoints: {\r\n  //   768: {\r\n  //     slidesPerView: 1\r\n  //   }\r\n  // }\r\n});\r\n\r\nconst setIframesPause = function () {\r\n  iframesArray.forEach((it) => {\r\n    it.contentWindow.postMessage(`{\"event\":\"command\",\"func\":\"pauseVideo\",\"args\":\"\"}`, `*`);\r\n  });\r\n};\r\n\r\nconst slideChangeTransitionStart = function () {\r\n  let direction;\r\n\r\n  if (activeIndex === slides.length - 1 && !this.realIndex) {\r\n    direction = `left`;\r\n  } else if (!activeIndex && this.realIndex === slides.length - 1) {\r\n    direction = `right`;\r\n  } else if (this.realIndex > activeIndex) {\r\n    direction = `left`;\r\n  } else {\r\n    direction = `right`;\r\n  }\r\n\r\n  activeIndex = this.realIndex;\r\n\r\n  if (direction === `left`) {\r\n    const fadeSlide = this.slides[this.previousIndex].previousElementSibling;\r\n\r\n    fadeSlide.style.transform = `translateX(130%) scaleX(0.6) scaleY(0.682)`;\r\n    fadeSlide.style.opacity = `0`;\r\n\r\n    setTimeout(() => {\r\n      fadeSlide.style.transition = ``;\r\n      fadeSlide.style.transform = ``;\r\n      fadeSlide.style.opacity = ``;\r\n    }, SPEED);\r\n  } else {\r\n    const fadeSlide = this.slides[this.previousIndex].nextElementSibling;\r\n\r\n    fadeSlide.style.zIndex = -1;\r\n    fadeSlide.style.transition = `none`;\r\n    fadeSlide.style.transform = `translateX(-346px)`;\r\n\r\n    setTimeout(() => {\r\n      fadeSlide.style.transition = ``;\r\n      fadeSlide.style.transition = `translateX ${SPEED / 1000}s ease, opacity ${SPEED / 1000}s easy`;\r\n      fadeSlide.style.transform = `translateX(-726px) scaleX(0.6) scaleY(0.682)`;\r\n      fadeSlide.style.opacity = `0`;\r\n    }, 0);\r\n\r\n    setTimeout(() => {\r\n      fadeSlide.style.transition = ``;\r\n      fadeSlide.style.transform = ``;\r\n      fadeSlide.style.opacity = ``;\r\n      fadeSlide.style.zIndex = ``;\r\n    }, SPEED);\r\n  }\r\n};\r\n\r\nconst slideChangeTransitionEnd = function () {\r\n  setIframesPause();\r\n};\r\n\r\nconst touchMove = function () {\r\n  if (!isInProgress) {\r\n    isInProgress = true;\r\n\r\n    Array.from(swiper.slides).forEach(function (it) {\r\n      it.style.transformOrigin = `50% 50%`;\r\n    });\r\n\r\n    swiper.on(`transitionEnd`, transitionEnd);\r\n  }\r\n};\r\n\r\nconst transitionEnd = function () {\r\n  isInProgress = false;\r\n\r\n  Array.from(swiper.slides).forEach(function (it) {\r\n    it.style.transformOrigin = ``;\r\n  });\r\n\r\n  swiper.off(`transitionEnd`, transitionEnd);\r\n};\r\n\r\nswiper.on(`slideChangeTransitionStart`, slideChangeTransitionStart);\r\nswiper.on(`slideChangeTransitionEnd`, slideChangeTransitionEnd);\r\n\r\n// swiper.on(`touchMove`, touchMove);\r\n","$(document).ready(function() {\n  setTimeout(function() {\n    $(\".unvisible\").css(\"opacity\", \"1\");\n  }, 5000);\n  \n  var t, e;\n    t = function(e) {\n      return setTimeout(function() {\n        var i, n;\n        return n = e.find(\".active\") || $(\"span\", e).first(), i = n.next().length ? n.next() : $(\"span\", e).first(), i.css({\n          position: \"relative\",\n          opacity: 0,\n          display: \"inline-block\",\n        }), n.fadeOut(), i.addClass(\"active\").siblings().removeClass(\"active\"), i.animate({\n          opacity: 1,\n        }, 800, function() {\n          return t($(\"#logotype\"))\n        })\n      }, 5e3)\n    }, e = function() {\n      return $(\"#dynamic\").text($(window).width() > 980 ? \".b-skew-top:before{border-left-width: \" + $(window).width() + \"px;} .b-skew-bottom:after{border-right-width: \" + $(window).width() + \"px;}\" : \".b-skew-top:before{border-left-width: 980px;} .b-skew-bottom:after{border-right-width: 980px;}\")\n    }\n  var i;\n  return $(\"<style type='text/css' id='dynamic' />\").appendTo(\"head\"), e(), $(\"#title-slide\") && setTimeout(function() {\n    return $(\"#title-slide\").fadeOut()\n  }, 5000), t($(\"#logotype\")), $(\"img.svg\").each(function() {\n    var t, e, i, n;\n    t = $(this), i = t.attr(\"id\"), e = t.attr(\"class\"), n = t.attr(\"src\"), $.get(n, function(n) {\n      var a;\n      a = $(n).find(\"svg\"), \"undefined\" != typeof i && (a = a.attr(\"id\", i)), \"undefined\" != typeof e && (a = a.attr(\"class\", e + \" replaced-svg\")), a = a.removeAttr(\"xmlns:a\"), t.replaceWith(a)\n    }, \"xml\")\n  }), $(\"#slider\") && $(\"#slider\").length && $(\"#slider\").own_slider(), $(\"#projects\") && $(\"#projects\").length && $(\"#projects\").own_slider({\n    activeSlideIdx: 2,\n    shownSlidesCount: 5\n  }), $(\"#photos\") && $(\"#photos\").length && (i = imagesLoaded($(\"#photos img\")), i.on(\"always\", function() {\n    return window.photos = new Sly(\"#photos\", {\n      horizontal: 1,\n      itemNav: \"forceCentered\",\n      activateMiddle: 1,\n      next: \"#photos .b-carousel__next\",\n      prev: \"#photos .b-carousel__prev\",\n      smart: 1,\n      activateOn: \"click\",\n      mouseDragging: 1,\n      touchDragging: 1,\n      releaseSwing: 1,\n      startAt: 3,\n      speed: 300,\n      elasticBounds: 1,\n      dragHandle: 1,\n      dynamicHandle: 1,\n      clickBar: 1\n    }).init()\n  }))\n});\n"]}